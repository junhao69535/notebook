# linux终端

/dev/目录下有很多文件，如tty，tty0，tty1，……，pts/0，pts/1，……，null。

## tty和tty0的区别
tty和tty0都是指向当前终端的字符块文件。但还是有区别的：
* tty：针对当前的进程而言，如利用ssh或telnet登录，那么产生的是pts% 而不是虚拟终端tty% （%代表数字），指向当前进程的终端，如`ehco "Hello" > /dev/tty`就会在当前终端（假如为pts1） 输出Hello。
* tty0：针对所有**虚拟终端**，指向当前虚拟终端，只能是tty%，而不能是pts%（%代表数字）。和tty的区别是不指向pts终端，只指向虚拟终端tty%。

## tty和tty1、tty2等的区别
tty1、tty2等都是指向虚拟终端，tty1就是虚拟终端1，tty2就是虚拟终端2，以此类推。

## tty1和pts/1等的区别
* tty1指向的虚拟终端1，所有的这些tty设备都是由linux/drivers/char/console.c和vt.c对应。
* /dev/pts是远程登陆(telnet,ssh等)后创建的控制台设备文件所在的目录。由于可能有好几千个用户登陆，所以/dev/pts其实是动态生成的，不像其他设备文件是构建系统时就已经产生的硬盘节点(如果未使用devfs) 。

## /dev/null
/dev/null将会丢掉所有写入它的数据，换句换说，当程序将数据写入到此文件时，会认为它已经成功完成写入数据的操作，但实际上什么事都没有做。如果你需要的是命令的退出状态（即需要得到该命令执行状态，如失败，成功等），而非它的输出，此功能会非常有用。

## 控制终端
当用户登陆时，系统会分配一个控制终端给用户，如果是远程登录，如ssh，则分配的是pts终端，而不是虚拟终端tty。用户在终端输入和输出（非重定向的情况下），实际上就是在这个控制终端输入和输出。而向/dev/tty当前终端写入，/dev/tty会转发给用户的控制终端。如一个用户登录了，系统分配给他的终端是tty2，如果执行`echo hello > /dev/tty`，那么/dev/tty会接收这些数据，然后转发给/dev/tty2再输出到屏幕。如果此时通过su切换用户，那么输入和输出还是通过tty2这个终端，但已经不能重定向到tty2这个终端了（没权限），至于怎么实现，暂时不清楚。